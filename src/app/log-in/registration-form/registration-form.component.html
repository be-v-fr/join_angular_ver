<form (ngSubmit)="onSubmit(registrationForm)" #registrationForm="ngForm">
    <button *ngIf="formMode == 'Sign up'" type="button" (click)="toggleModeEmit()" class="arrow-back">
        <img src="assets/img/arrow-left-line.svg" alt="back">
    </button>
    <h2>{{formMode}}</h2>
    <div *ngIf="formMode == 'Sign up'" class="form-field">
        <input type="text" class="text-input" placeholder="Name" name="name" #name="ngModel" [(ngModel)]="formData.name"
            required>
        <img src="assets/img/person.svg" alt="name">
    </div>
    <div class="form-field">
        <input type="text" class="text-input" placeholder="Email" name="email" #email="ngModel"
            [(ngModel)]="formData.email" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
        <img src="assets/img/mail.svg" alt="email">
    </div>
    <div class="form-field">
        <input type="{{passwordFieldType}}" class="text-input" placeholder="Password" name="password" #password ngModel
            [(ngModel)]="formData.password" required>
        @if(formData.password.length > 0) {
        <app-password-icon [state]="passwordFieldType" (click)="toggleVisibility('password')"></app-password-icon>
        }
        @else {
        <app-password-icon [state]="'default'" (click)="toggleVisibility('password')"></app-password-icon>
        }
    </div>
    <div *ngIf="formMode == 'Sign up'" class="form-field">
        <input type="{{passwordConfirmationFieldType}}" class="text-input" placeholder="Confirm password"
            name="passwordConfirmation" #passwordConfirmation ngModel [(ngModel)]="formData.passwordConfirmation"
            required>
        @if(formData.passwordConfirmation.length > 0) {
        <app-password-icon [state]="passwordFieldType" (click)="toggleVisibility('confirmation')"></app-password-icon>
        }
        @else {
        <app-password-icon [state]="'default'" (click)="toggleVisibility('confirmation')"></app-password-icon>
        }
    </div>
    <div class="further-options" [ngClass]="{'privacy-policy': formMode == 'Sign up'}">
        @if(formMode == 'Log in') {
        <div class="checkbox-container prevent-select" (click)="toggleRememberMe()">
            <div class="custom-checkbox" [ngClass]="{'custom-checked' : rememberLogIn}"></div>
            <span>Remember me</span>
        </div>
        <a href="" class="link-blue">I forgot my password</a>
        }
        @else {
        <div class="checkbox-container prevent-select" (click)="togglePrivacyPolicy()">
            <div class="custom-checkbox" [ngClass]="{'custom-checked' : acceptPrivacyPolicy}"></div>
            <span>
                <div>I accept the</div>
                <a href="" class="link-blue" (click)="$event.stopPropagation()">privacy policy</a>
            </span>
        </div>
        }
    </div>
    <div class="btn-container">
        @if(formMode == 'Log in') {
        <button type="submit" class="btn-primary">Log in</button>
        <button type="button" class="btn-secondary">Guest log in</button>
        }
        @else {
        <div class="btn-container">
            <button type="submit" class="btn-primary">Sign up</button>
        </div>
        }
    </div>
</form>